{% extends 'home_index.html' %}
{% load static %}

<!-- Titulo de la página-->
{% block title %}
Piwit - Perfil
{% endblock title %}

{% block content %}
<body>
    <main>
    {% block messages %}
    {% if messages %}
        <ul class = "messages">
            {% for message in messages %}
                <li {% if message.tags %} class ="{{ message.tags }}"{% endif %}>
                    {{ message }}
                </li>
            {% endfor %}
        </ul>
    {% endif %}
    {% endblock %}
    </main>

    <!--COLOCAR DATOS DINAMICOS-->
    {% block userdata %}
    <h1>Datos del Usuario:</h1>
    <br>
    NOMBRE DE USUARIO: {{ user.username }}<br>
    CORREO ELECTRONICO: {{ user.email }}<br>
    FOTO DE PERFIL:<br>
    <img src="{% static 'images/GjnZn9eWAAAdeTG.jpg' %}" alt="Bon">
    {% endblock %}

    <!--NOTA PARA CARLOS: Idealmente, absolutamente todos estos botones deben ser movidos a otro html si es que se quiere usar este html
    para escribir la base del perfil con todo lo que eso conlleva, de momento estan puestos de esta forma-->
    <!--Cerrar Sesión-->
    {% block changeheader %}
    <h1>CAMBIAR DATOS</h1>
    {% endblock %}



    <!--Cambio de nombre de usuario-->
    <form method="POST" action ="{%url 'profile' %}">
        {% csrf_token %}
        <input type="hidden" name="action" value="changeusername">
        <input type="text" name="newusername" placeholder="Usuario" required>
        <br>
        <br>
        <button type="submit">CAMBIAR NOMBRE DE USUARIO</button>
        <br>
        <br>
    </form>


    <!--Cambio de mail-->
    {% block emailheader %}
    <h1>Correo Electronico</h1>
    {% endblock %}
    <br>
    <br>
    <form method="POST" action ="{%url 'profile' %}">
        {% csrf_token %}
        <input type="hidden" name="action" value="changemail">
    <!--Input de Correo-->
        <input type="email" name="newmail" placeholder="Cambiar correo" required>
        <br>
        <br>
        <button type="submit" >CAMBIAR CORREO DE USUARIO</button>
     </form>
    <br>
    <br>


    <!--Cambio de contraseña-->
    {% block passwordheader %}
    <h1>Contraseña</h1>
    {% endblock %}
    <br>
    <br>
    <form method="POST" action ="{%url 'profile' %}">
        {% csrf_token %}
        <input type="hidden" name="action" value="changepassword">
    <!--Input de vieja contraseña-->
        <input type="password" name="oldpassword" placeholder="Vieja Contraseña" required>
        <br>
        <br>
    <!--Input de nueva contraseña-->
        <input type="password" name="newpassword" placeholder="Nueva Contraseña" required>
        <br>
        <br>
    <!--Input de nueva contraseña (Confirmar)-->
        <input type="password" name="newpassword2" placeholder="Confirmar Nueva Contraseña" required>
        <br>
        <br>
        <button type="submit">CAMBIAR CONTRASEÑA</button>
    </form>

    <div class="buttons">
        <br>
        <a href ="{%url 'deleteacc'%}" class="button">Eliminar Usuario</a>
        <br>
    </div>
    <div class="buttons">
        <br>
        <a href ="{%url 'logout'%}" class="button">Cerrar Sesión</a>
        <br>
    </div>
    <div class="buttons">
        <br>
        <a href ="{%url 'home'%}" class="button">Volver</a>
        <br>
    </div>
    </div>
</body>
{% endblock %}
</html>